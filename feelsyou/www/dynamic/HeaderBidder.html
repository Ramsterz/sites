<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

</html>

<body>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="setVisit.js"></script>
    <script type="text/javascript" src="prebid.js" async></script>
    <script>
        /*************           CHANGE THE CODE HERE  ******************/
        var PREBID_TIMEOUT = 1000;
        var lbSizeMapping = [{
                minWidth: 1024, //if device screen width is greater than 1024, use these sizes
                sizes: [
                    [728, 90]
                ]
            },
            {
                minWidth: 480, //if device screen width is < 1024 && > 480, use these sizes
                sizes: [
                    [320, 50]
                ]
            },
            {
                minWidth: 0, //if device screen width is < 480 && > 0, use these sizes
                sizes: []
            }
        ];
        var mrSizeMapping = [{
                minWidth: 780, //if device screen width is greater than 1024, use these sizes
                sizes: [
                    [728, 90]
                ]
            },
            {
                minWidth: 0, //if device screen width is < 480 && > 0, use these sizes
                sizes: []
            }
        ];
        var mrBiders = [{
            bidder: 'vertoz',
            params: {
                placementId: 'VZ-HB-V777345V22F78E'
            }
        }, {
            bidder: 'sekindoUM',
            params: {
                spaceId: '80798'
            }
        }, {
            bidder: 'roxot',
            params: {
                publisherId: '6b8ce71d-8d7d-4af3-aa1a-65bc69acb64e'
            }
        }, {
            bidder: 'underdogmedia',
            params: {
                siteId: '11673'
            }
        }, {
            bidder: 'districtmDMX',
            params: {
                id: '147052'
            }
        }];
        var lbBiders = [{
            bidder: 'vertoz',
            params: {
                placementId: 'VZ-HB-E127519VC74B08'
            }
        }, {
            bidder: 'sekindoUM',
            params: {
                spaceId: '79282'
            }
        }, {
            bidder: 'roxot',
            params: {
                publisherId: '6b8ce71d-8d7d-4af3-aa1a-65bc69acb64e'
            }
        }, {
            bidder: 'underdogmedia',
            params: {
                siteId: '11673'
            }
        }, {
            bidder: 'districtmDMX',
            params: {
                id: '147052'
            }
        }];

        var lbSizes = [
            [728, 90],
            [320, 50]
        ];
        var mrSizes = [
            [300, 250]
        ];
        var lb1Code = 'div-gpt-ad-1491988365275-0';
        var lb2Code = 'div-gpt-ad-1491988394001-0';
        var mr1Code = 'div-gpt-ad-1491988415582-0';
        var mr2Code = 'div-gpt-ad-1491988434893-0';

        function getPassbackTagHtml(adUnit, dims) {
          return '<scr' + 'ipt type=\'text/javascript\' src=\'https://www.googletagservices.com/tag/js/gpt.js\'>googletag.pubads().definePassback(\'/38001226/' + adUnit + '\', ['+dims.width+', '+dims.height+']).display();</scr' + 'ipt>'
        }
        var adUnits = [{
            code: lb1Code,
            sizes: lbSizes,
            sizeMapping: lbSizeMapping,
            bids: lbBiders
        },
        {
            code: lb2Code,
            sizes: lbSizes,
            sizeMappmrSizeMappinging: lbSizeMapping,
            bids: lbBiders
        },
        {
            code: mr1Code,
            sizes: mrSizes,
            sizeMappmrSizeMappinging: mrSizeMapping,
            bids: mrBiders
        },
        {
            code: mr2Code,
            sizes: mrSizes,
            sizeMappmrSizeMappinging: mrSizeMapping,
            bids: mrBiders
        }];

        var pbjs = pbjs || {};
        pbjs.que = pbjs.que || [];

        pbjs.que.push(function() {
            pbjs.addAdUnits(adUnits);
            pbjs.requestBids({
                timeout: PREBID_TIMEOUT,
                bidsBackHandler: bidsBackHandler
            });
        });

        function getBidderRequestId(pbjs, bidderCode, placementId) {
            for (var i = 0; i < pbjs._bidsRequested.length; i++) {
                var p = pbjs._bidsRequested[i]
                for (var j = 0; j < p.bids.length; j++) {
                    var sbid = p.bids[j];
                    if (sbid.placementCode == placementId && p.bidderCode == bidderCode) {

                }
            }
          }
        }

        function bidsBackHandler() {
          if (pbjs._bidsRequested.length > 0) {
                var requestId = pbjs._bidsRequested[0].requestId;
                var requests = [];
                var userVisitId = RMP.getUserCookie().visitID;
                for (var i = 0; i < pbjs._bidsReceived.length; i++) {
                    var p = pbjs._bidsReceived[i];
                    requests.push({
                        bidder_request: getBidderRequestId(pbjs, p.bidderCode, p.adUnitCode),
                        ad_unit: p.adUnitCode,
                        cpm: p.cpm,
                        bidder_code: p.bidderCode
                    });
                }
                RMP.sendBid(requestId, requests);
            }
            renderAd(lb1Code, { width:320, height: 50 });
            renderAd(lb2Code, { width:320, height: 50 });
            renderAd(mr1Code, { width:300, height: 250 });
            renderAd(mr2Code, { width:300, height: 250 });
        }
        function renderAd(code,passBackDims) {
          var iframe = document.getElementById(code);
          var iframeDoc = iframe.contentWindow.document;
          var params = pbjs.getAdserverTargetingForAdUnitCode(code);
          // If any bidders return any creatives, render the ad with the top bid.
          if (params && params['hb_adid']){
            pbjs.renderAd(iframeDoc, params['hb_adid']);
          } else {
            // If no bidder return any creatives, run passback.
            iframe.width = passBackDims.width;
            iframe.height = passBackDims.height;
            iframeDoc.write(getPassbackTagHtml(code, passBackDims));
          }
        }
        /*************           CHANGE THE CODE HERE  ******************/
    </script>
    <!-- /38001226/LB1 -->
    <iframe id='div-gpt-ad-1491988365275-0' FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" WIDTH="0" HEIGHT="0"></iframe>
    <!-- /38001226/LB2 -->
    <iframe id='div-gpt-ad-1491988394001-0' FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" WIDTH="0" HEIGHT="0"></iframe>
    <iframe id='div-gpt-ad-1491988415582-0' FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" WIDTH="0" HEIGHT="0"></iframe>
    <iframe id='div-gpt-ad-1491988434893-0' FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" WIDTH="0" HEIGHT="0"></iframe>
</body>
